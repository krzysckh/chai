chai
----

a static html gallery generator written in owl lisp [1].

why
---

as a fast alternative to my cringe perl cgi script that used to power my
website.

dependencies
------------

  - owl lisp [1]
  - ImageMagick [2] (specifically, the `convert` tool)

how
---

  $ git clone https://github.com/krzysckh/chai
  $ cd chai
  $ make
  # make install

create your galleries like this:

- my-gallery/
  - config.scm
  - photos-from-somewhere/
    - index.scm
    - ....jpg
    - ....png
    - ...
  - photos-from-somewhere-else/
    - index.scm
    - ...

config.scm, and every index.scm will be (eval)'d at runtime, and they must
return these association lists:

config.scm:

  '((css . use-default)
    (gallery-template . use-default)
    (index-template . use-default)
    (page-name . "example gallery")
    (output-directory . "public_html")))

index.scm:

  '((gallery-name . "gallery name here")
    (date . (07 9 2023))                       ; day month year
    (description . "description")
    (private . #t)
    (htpasswd . "/etc/httpd/conf/.htpasswd"))  ; this can be skipped when
                                               ; private = #f

'use-default can be used if you don't want to write your own
{gallery,index}-template. Though if you want to, a template is a function
that takes the body of a given page, so for example, an index-template could
be implemented like this:

  `((css . use-default)
    (gallery-template . use-default)
    (page-name . "example gallery")
    (output-directory . "public_html")
    (index-template . ,(lambda (idx)
                         `(html
                            (body
                              (p "this will be an index to the gallery")
                              ,idx
                              ((a (href . "https://example.com"))
                               "a link to example.com"))))))

Note that index-template is not just plain html, it's html written in
s-expressions (cool!!). This is what (chai html) does.

--------
[1] - https://haltp.org/posts/owl.html
[2] - https://imagemagick.org/
